{
  "version": "2026.1",
  "generatedFrom": "state.json",
  "strategy": "A",
  "states": {
    "AL": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "AL_SUB_FEDERAL_INCOME_TAX_DEDUCTION",
            "kind": "subtraction",
            "affects": "taxableIncome",
            "description": "Federal income taxes paid (full deduction allowed)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "federalIncomeTaxPaidAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal income taxes paid (full deduction allowed):contentReference[oaicite:261]{index=261}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "AL_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Interest on out-of-state muni bonds (taxable in AL)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Interest on out-of-state muni bonds (taxable in AL)"
            }
          }
        ],
        "subtractions": [
          {
            "id": "AL_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security benefits (not taxable in AL)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security benefits (not taxable in AL):contentReference[oaicite:262]{index=262}"
            }
          },
          {
            "id": "AL_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Federal tax refunds (not taxable in AL since state has its own tax base)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal tax refunds (not taxable in AL since state has its own tax base)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 3000
        },
        "personalExemption": {
          "default": 1500
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "AL_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "AL_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "AL_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "AL_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_federal_starting_point",
          "ircConformity": null,
          "additions": [
            "Federal income taxes paid (full deduction allowed):contentReference[oaicite:261]{index=261}",
            "Interest on out-of-state muni bonds (taxable in AL)"
          ],
          "subtractions": [
            "Social Security benefits (not taxable in AL):contentReference[oaicite:262]{index=262}",
            "Federal tax refunds (not taxable in AL since state has its own tax base)"
          ],
          "standardDeduction": 3000,
          "personalExemption": 1500
        }
      },
      "requiredInputs": [
        "federalIncomeTaxPaidAnnual",
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "AK": {
      "meta": {
        "hasIncomeTax": false
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "AK_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "AK_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "AK_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "AK_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_state_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    },
    "AZ": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2022-01-01"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "AZ_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Interest from non-Arizona municipal bonds",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Interest from non-Arizona municipal bonds:contentReference[oaicite:263]{index=263}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "AZ_ADD_HSA",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "HSA contributions (not state-deductible) if any",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "hsaContributionAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "hsaContributionAnnual"
            },
            "requires": [
              "hsaContributionAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "HSA contributions (not state-deductible) if any"
            }
          }
        ],
        "subtractions": [
          {
            "id": "AZ_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security benefits (fully exempt)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security benefits (fully exempt):contentReference[oaicite:264]{index=264}"
            }
          },
          {
            "id": "AZ_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "U.S. government bond interest (exempt from state tax)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "U.S. government bond interest (exempt from state tax)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 12950
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "AZ_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "AZ_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "AZ_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "AZ_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2022-01-01",
          "additions": [
            "Interest from non-Arizona municipal bonds:contentReference[oaicite:263]{index=263}",
            "HSA contributions (not state-deductible) if any"
          ],
          "subtractions": [
            "Social Security benefits (fully exempt):contentReference[oaicite:264]{index=264}",
            "U.S. government bond interest (exempt from state tax)"
          ],
          "standardDeduction": 12950,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "hsaContributionAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "AR": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "AR_ADD_HSA",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "HSA contributions (not recognized by AR)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "hsaContributionAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "hsaContributionAnnual"
            },
            "requires": [
              "hsaContributionAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "HSA contributions (not recognized by AR)"
            }
          },
          {
            "id": "AR_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Interest from out-of-state munis",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Interest from out-of-state munis"
            }
          }
        ],
        "subtractions": [
          {
            "id": "AR_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security benefits (fully exempt)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security benefits (fully exempt):contentReference[oaicite:265]{index=265}"
            }
          },
          {
            "id": "AR_SUB_LTCG_EXCLUSION_40PCT",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "40% of long-term capital gains (state exclusion)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "capitalGainsAnnual",
              "value": 0
            },
            "amount": {
              "op": "mul",
              "a": {
                "op": "value",
                "path": "capitalGainsAnnual"
              },
              "b": 0.4
            },
            "requires": [
              "capitalGainsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "40% of long-term capital gains (state exclusion)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 2410
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "AR_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "AR_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "AR_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "AR_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_federal_starting_point",
          "ircConformity": null,
          "additions": [
            "HSA contributions (not recognized by AR)",
            "Interest from out-of-state munis"
          ],
          "subtractions": [
            "Social Security benefits (fully exempt):contentReference[oaicite:265]{index=265}",
            "40% of long-term capital gains (state exclusion)"
          ],
          "standardDeduction": 2410,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "capitalGainsAnnual",
        "hsaContributionAnnual",
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "CA": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2015-01-01"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "CA_ADD_HSA",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "HSA contributions (CA does not conform)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "hsaContributionAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "hsaContributionAnnual"
            },
            "requires": [
              "hsaContributionAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "HSA contributions (CA does not conform):contentReference[oaicite:266]{index=266}"
            }
          },
          {
            "id": "CA_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Bonus depreciation excess (CA decoupled post-2015)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Bonus depreciation excess (CA decoupled post-2015)"
            }
          },
          {
            "id": "CA_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Interest on out-of-state municipal bonds",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Interest on out-of-state municipal bonds"
            }
          }
        ],
        "subtractions": [
          {
            "id": "CA_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security benefits (not taxed in CA)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security benefits (not taxed in CA):contentReference[oaicite:267]{index=267}"
            }
          },
          {
            "id": "CA_SUB_US_TREASURY_INTEREST",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "U.S. Treasury interest (federally taxable, state-exempt)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "usTreasuryInterestAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "usTreasuryInterestAnnual"
            },
            "requires": [
              "usTreasuryInterestAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "U.S. Treasury interest (federally taxable, state-exempt)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 5540
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "CA_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "CA_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "CA_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "CA_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2015-01-01",
          "additions": [
            "HSA contributions (CA does not conform):contentReference[oaicite:266]{index=266}",
            "Bonus depreciation excess (CA decoupled post-2015)",
            "Interest on out-of-state municipal bonds"
          ],
          "subtractions": [
            "Social Security benefits (not taxed in CA):contentReference[oaicite:267]{index=267}",
            "U.S. Treasury interest (federally taxable, state-exempt)"
          ],
          "standardDeduction": 5540,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "hsaContributionAnnual",
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual",
        "usTreasuryInterestAnnual"
      ]
    },
    "CO": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalTaxableIncome",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "CO_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income tax deduction (add back any SALT deducted federally)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income tax deduction (add back any SALT deducted federally)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "CO_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Interest on out-of-state munis (not exempt at state level)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Interest on out-of-state munis (not exempt at state level)"
            }
          }
        ],
        "subtractions": [
          {
            "id": "CO_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt for age 65+; largely excluded by 2026)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt for age 65+; largely excluded by 2026):contentReference[oaicite:269]{index=269}"
            }
          },
          {
            "id": "CO_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "U.S. government bond interest (state-exempt)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "U.S. government bond interest (state-exempt)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": null
        },
        "personalExemption": {
          "default": null
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "CO_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "CO_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "CO_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "CO_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_taxable_income",
          "ircConformity": "current",
          "additions": [
            "State income tax deduction (add back any SALT deducted federally)",
            "Interest on out-of-state munis (not exempt at state level)"
          ],
          "subtractions": [
            "Social Security (exempt for age 65+; largely excluded by 2026):contentReference[oaicite:269]{index=269}",
            "U.S. government bond interest (state-exempt)"
          ],
          "standardDeduction": null,
          "personalExemption": null
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "CT": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "CT_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State/local taxes deducted on federal return (SALT add-back)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State/local taxes deducted on federal return (SALT add-back):contentReference[oaicite:270]{index=270}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "CT_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Bonus depreciation add-back (CT decouples)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Bonus depreciation add-back (CT decouples)"
            }
          }
        ],
        "subtractions": [
          {
            "id": "CT_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt below $75k/$100k AGI; partial above)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt below $75k/$100k AGI; partial above):contentReference[oaicite:271]{index=271}"
            }
          },
          {
            "id": "CT_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Pension/annuity exclusion for qualifying incomes",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Pension/annuity exclusion for qualifying incomes",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 15000
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "CT_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "CT_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "CT_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "CT_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "State/local taxes deducted on federal return (SALT add-back):contentReference[oaicite:270]{index=270}",
            "Bonus depreciation add-back (CT decouples)"
          ],
          "subtractions": [
            "Social Security (exempt below $75k/$100k AGI; partial above):contentReference[oaicite:271]{index=271}",
            "Pension/annuity exclusion for qualifying incomes"
          ],
          "standardDeduction": 0,
          "personalExemption": 15000
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "DE": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "DE_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income tax refunds (taxable if deducted federally)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income tax refunds (taxable if deducted federally)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "DE_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "DE_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (fully exempt)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (fully exempt):contentReference[oaicite:272]{index=272}"
            }
          },
          {
            "id": "DE_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "U.S. bond interest (state-exempt)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "U.S. bond interest (state-exempt)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 3250
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "DE_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "DE_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "DE_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "DE_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "State income tax refunds (taxable if deducted federally)",
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Social Security (fully exempt):contentReference[oaicite:272]{index=272}",
            "U.S. bond interest (state-exempt)"
          ],
          "standardDeduction": 3250,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "DC": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "DC_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni bond interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni bond interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "DC_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed in D.C.)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed in D.C.)"
            }
          },
          {
            "id": "DC_SUB_US_TREASURY_INTEREST",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Interest on U.S. obligations (Treasury interest)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "usTreasuryInterestAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "usTreasuryInterestAnnual"
            },
            "requires": [
              "usTreasuryInterestAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Interest on U.S. obligations (Treasury interest)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 13850
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "DC_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "DC_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "DC_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "DC_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "Out-of-state muni bond interest"
          ],
          "subtractions": [
            "Social Security (not taxed in D.C.)",
            "Interest on U.S. obligations (Treasury interest)"
          ],
          "standardDeduction": 13850,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual",
        "usTreasuryInterestAnnual"
      ]
    },
    "FL": {
      "meta": {
        "hasIncomeTax": false
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "FL_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "FL_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "FL_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "FL_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_state_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    },
    "GA": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2022-01-01"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "GA_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state municipal interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state municipal interest"
            }
          },
          {
            "id": "GA_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income taxes deducted federally (add-back)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income taxes deducted federally (add-back)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "GA_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (fully exempt)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (fully exempt):contentReference[oaicite:273]{index=273}"
            }
          },
          {
            "id": "GA_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Retirement income exclusion (e.g. pension exclusion up to certain amount)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Retirement income exclusion (e.g. pension exclusion up to certain amount)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 5400
        },
        "personalExemption": {
          "default": 2700
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "GA_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "GA_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "GA_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "GA_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2022-01-01",
          "additions": [
            "Out-of-state municipal interest",
            "State income taxes deducted federally (add-back)"
          ],
          "subtractions": [
            "Social Security (fully exempt):contentReference[oaicite:273]{index=273}",
            "Retirement income exclusion (e.g. pension exclusion up to certain amount)"
          ],
          "standardDeduction": 5400,
          "personalExemption": 2700
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "HI": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-12-31"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "HI_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state municipal bond interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state municipal bond interest"
            }
          },
          {
            "id": "HI_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal deductions post-2021 not adopted (if any)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal deductions post-2021 not adopted (if any)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "HI_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed in HI)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed in HI):contentReference[oaicite:274]{index=274}"
            }
          },
          {
            "id": "HI_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "State/local government pension exclusions",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "State/local government pension exclusions",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 2200
        },
        "personalExemption": {
          "default": 1144
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "HI_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "HI_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "HI_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "HI_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2021-12-31",
          "additions": [
            "Out-of-state municipal bond interest",
            "Federal deductions post-2021 not adopted (if any)"
          ],
          "subtractions": [
            "Social Security (not taxed in HI):contentReference[oaicite:274]{index=274}",
            "State/local government pension exclusions"
          ],
          "standardDeduction": 2200,
          "personalExemption": 1144
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "ID": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalTaxableIncome",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2022-01-01"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "ID_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income tax deduction (federal SALT) add-back",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income tax deduction (federal SALT) add-back",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "ID_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Bonus depreciation add-back (ID decoupled)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Bonus depreciation add-back (ID decoupled):contentReference[oaicite:275]{index=275}"
            }
          }
        ],
        "subtractions": [
          {
            "id": "ID_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed in Idaho)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed in Idaho):contentReference[oaicite:276]{index=276}"
            }
          },
          {
            "id": "ID_SUB_US_TREASURY_INTEREST",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "U.S. Treasury interest (exempt in state)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "usTreasuryInterestAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "usTreasuryInterestAnnual"
            },
            "requires": [
              "usTreasuryInterestAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "U.S. Treasury interest (exempt in state)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": null
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "ID_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "ID_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "ID_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "ID_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_taxable_income",
          "ircConformity": "2022-01-01",
          "additions": [
            "State income tax deduction (federal SALT) add-back",
            "Bonus depreciation add-back (ID decoupled):contentReference[oaicite:275]{index=275}"
          ],
          "subtractions": [
            "Social Security (not taxed in Idaho):contentReference[oaicite:276]{index=276}",
            "U.S. Treasury interest (exempt in state)"
          ],
          "standardDeduction": null,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "socialSecurityBenefitsAnnual",
        "usTreasuryInterestAnnual"
      ]
    },
    "IL": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "IL_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "IL_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Retirement income (including Social Security) fully exempt",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Retirement income (including Social Security) fully exempt:contentReference[oaicite:277]{index=277}"
            }
          },
          {
            "id": "IL_SUB_US_TREASURY_INTEREST",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "U.S. Treasury interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "usTreasuryInterestAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "usTreasuryInterestAnnual"
            },
            "requires": [
              "usTreasuryInterestAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "U.S. Treasury interest"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 2425
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "IL_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "IL_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "IL_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "IL_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Retirement income (including Social Security) fully exempt:contentReference[oaicite:277]{index=277}",
            "U.S. Treasury interest"
          ],
          "standardDeduction": 0,
          "personalExemption": 2425
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual",
        "usTreasuryInterestAnnual"
      ]
    },
    "IN": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-03-31"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "IN_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          },
          {
            "id": "IN_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal bonus depreciation add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal bonus depreciation add-back"
            }
          }
        ],
        "subtractions": [
          {
            "id": "IN_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt):contentReference[oaicite:278]{index=278}"
            }
          },
          {
            "id": "IN_SUB_MILITARY_RETIREMENT_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Military retirement pay ($5,000 deductible)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "militaryRetirementPayAnnual",
              "value": 0
            },
            "amount": {
              "op": "min",
              "a": {
                "op": "value",
                "path": "militaryRetirementPayAnnual"
              },
              "b": 5000
            },
            "requires": [
              "militaryRetirementPayAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Military retirement pay ($5,000 deductible)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 1000
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "IN_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "IN_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "IN_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "IN_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2021-03-31",
          "additions": [
            "Out-of-state muni interest",
            "Federal bonus depreciation add-back"
          ],
          "subtractions": [
            "Social Security (exempt):contentReference[oaicite:278]{index=278}",
            "Military retirement pay ($5,000 deductible)"
          ],
          "standardDeduction": 0,
          "personalExemption": 1000
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "interestFromOutOfStateMunisAnnual",
        "militaryRetirementPayAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "IA": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "IA_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Bonus depreciation add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Bonus depreciation add-back"
            }
          },
          {
            "id": "IA_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Interest from other states' bonds",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Interest from other states' bonds",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "IA_SUB_FEDERAL_INCOME_TAX_DEDUCTION",
            "kind": "subtraction",
            "affects": "taxableIncome",
            "description": "Federal income taxes paid (fully deductible)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "federalIncomeTaxPaidAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal income taxes paid (fully deductible):contentReference[oaicite:279]{index=279}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "IA_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed in IA)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed in IA):contentReference[oaicite:280]{index=280}"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "IA_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "IA_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "IA_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "IA_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "Bonus depreciation add-back",
            "Interest from other states' bonds"
          ],
          "subtractions": [
            "Federal income taxes paid (fully deductible):contentReference[oaicite:279]{index=279}",
            "Social Security (not taxed in IA):contentReference[oaicite:280]{index=280}"
          ],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "federalIncomeTaxPaidAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "KS": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "KS_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state municipal interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state municipal interest"
            }
          },
          {
            "id": "KS_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State/local taxes deducted federally (if itemized federally) add-back",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State/local taxes deducted federally (if itemized federally) add-back",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "KS_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt under $75k AGI)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt under $75k AGI):contentReference[oaicite:281]{index=281}"
            }
          },
          {
            "id": "KS_SUB_US_TREASURY_INTEREST",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "U.S. Treasury interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "usTreasuryInterestAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "usTreasuryInterestAnnual"
            },
            "requires": [
              "usTreasuryInterestAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "U.S. Treasury interest"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 3750
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "KS_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "KS_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "KS_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "KS_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "Out-of-state municipal interest",
            "State/local taxes deducted federally (if itemized federally) add-back"
          ],
          "subtractions": [
            "Social Security (exempt under $75k AGI):contentReference[oaicite:281]{index=281}",
            "U.S. Treasury interest"
          ],
          "standardDeduction": 3750,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual",
        "usTreasuryInterestAnnual"
      ]
    },
    "KY": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-12-31"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "KY_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          },
          {
            "id": "KY_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Bonus depreciation add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Bonus depreciation add-back"
            }
          }
        ],
        "subtractions": [
          {
            "id": "KY_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed):contentReference[oaicite:282]{index=282}"
            }
          },
          {
            "id": "KY_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "State pension income exclusion ($31k for retirees)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "pensionIncomeAnnual",
              "value": 0
            },
            "amount": {
              "op": "min",
              "a": {
                "op": "value",
                "path": "pensionIncomeAnnual"
              },
              "b": 31
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "State pension income exclusion ($31k for retirees)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 2790
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "KY_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "KY_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "KY_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "KY_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2021-12-31",
          "additions": [
            "Out-of-state muni interest",
            "Bonus depreciation add-back"
          ],
          "subtractions": [
            "Social Security (not taxed):contentReference[oaicite:282]{index=282}",
            "State pension income exclusion ($31k for retirees)"
          ],
          "standardDeduction": 2790,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "interestFromOutOfStateMunisAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "LA": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "LA_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal tax refund (if included in AGI)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal tax refund (if included in AGI)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "LA_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Expense adjustments not allowed by LA",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Expense adjustments not allowed by LA",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "LA_SUB_FEDERAL_INCOME_TAX_DEDUCTION",
            "kind": "subtraction",
            "affects": "taxableIncome",
            "description": "Federal income taxes paid (deductible from LA income)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "federalIncomeTaxPaidAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal income taxes paid (deductible from LA income):contentReference[oaicite:283]{index=283}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "LA_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (fully exempt)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (fully exempt):contentReference[oaicite:284]{index=284}"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 4500
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "LA_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "LA_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "LA_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "LA_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "Federal tax refund (if included in AGI)",
            "Expense adjustments not allowed by LA"
          ],
          "subtractions": [
            "Federal income taxes paid (deductible from LA income):contentReference[oaicite:283]{index=283}",
            "Social Security (fully exempt):contentReference[oaicite:284]{index=284}"
          ],
          "standardDeduction": 4500,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "federalIncomeTaxPaidAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "ME": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-12-31"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "ME_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal bonus depreciation add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal bonus depreciation add-back"
            }
          },
          {
            "id": "ME_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State and local taxes deducted federally above $10k (add-back)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State and local taxes deducted federally above $10k (add-back):contentReference[oaicite:285]{index=285}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "ME_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt below income threshold)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt below income threshold):contentReference[oaicite:286]{index=286}"
            }
          },
          {
            "id": "ME_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Public pension exclusion (up to $35k)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "pensionIncomeAnnual",
              "value": 0
            },
            "amount": {
              "op": "min",
              "a": {
                "op": "value",
                "path": "pensionIncomeAnnual"
              },
              "b": 35
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Public pension exclusion (up to $35k)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 9400
        },
        "personalExemption": {
          "default": 4900
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "ME_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "ME_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "ME_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "ME_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2021-12-31",
          "additions": [
            "Federal bonus depreciation add-back",
            "State and local taxes deducted federally above $10k (add-back):contentReference[oaicite:285]{index=285}"
          ],
          "subtractions": [
            "Social Security (exempt below income threshold):contentReference[oaicite:286]{index=286}",
            "Public pension exclusion (up to $35k)"
          ],
          "standardDeduction": 9400,
          "personalExemption": 4900
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "MD": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "MD_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income tax deducted federally (add SALT back)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income tax deducted federally (add SALT back):contentReference[oaicite:287]{index=287}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "MD_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Bonus depreciation add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Bonus depreciation add-back"
            }
          }
        ],
        "subtractions": [
          {
            "id": "MD_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (fully exempt as of 2022)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (fully exempt as of 2022):contentReference[oaicite:288]{index=288}"
            }
          },
          {
            "id": "MD_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Pension exclusion (up to $34k for 65+)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "pensionIncomeAnnual",
              "value": 0
            },
            "amount": {
              "op": "min",
              "a": {
                "op": "value",
                "path": "pensionIncomeAnnual"
              },
              "b": 34
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Pension exclusion (up to $34k for 65+)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 2200
        },
        "personalExemption": {
          "default": 3200
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "MD_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "MD_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "MD_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "MD_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "State income tax deducted federally (add SALT back):contentReference[oaicite:287]{index=287}",
            "Bonus depreciation add-back"
          ],
          "subtractions": [
            "Social Security (fully exempt as of 2022):contentReference[oaicite:288]{index=288}",
            "Pension exclusion (up to $34k for 65+)"
          ],
          "standardDeduction": 2200,
          "personalExemption": 3200
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "MA": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2022-01-01"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "MA_ADD_HSA",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "401k/HSA contributions (taxable in MA)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "hsaContributionAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "hsaContributionAnnual"
            },
            "requires": [
              "hsaContributionAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "401k/HSA contributions (taxable in MA):contentReference[oaicite:289]{index=289}"
            }
          },
          {
            "id": "MA_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "MA_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed in MA)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed in MA):contentReference[oaicite:290]{index=290}"
            }
          },
          {
            "id": "MA_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Mass. state and local bond interest (exempt in MA)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Mass. state and local bond interest (exempt in MA)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 4400
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "MA_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "MA_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "MA_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "MA_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_federal_starting_point",
          "ircConformity": "2022-01-01",
          "additions": [
            "401k/HSA contributions (taxable in MA):contentReference[oaicite:289]{index=289}",
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Social Security (not taxed in MA):contentReference[oaicite:290]{index=290}",
            "Mass. state and local bond interest (exempt in MA)"
          ],
          "standardDeduction": 0,
          "personalExemption": 4400
        }
      },
      "requiredInputs": [
        "hsaContributionAnnual",
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "MI": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current (with 2018 option)"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "MI_ADD_RETIREMENT_DEDUCTION_DISALLOWED",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "IRA/401k contributions (if not taxed federally due to option)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "iraContributionAnnual",
              "solo401kEmployeeAnnual",
              "solo401kEmployerAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "IRA/401k contributions (if not taxed federally due to option)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "MI_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "MI_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed):contentReference[oaicite:291]{index=291}"
            }
          },
          {
            "id": "MI_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Pension income exclusion (tiers by age)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Pension income exclusion (tiers by age)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 5400
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "MI_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "MI_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "MI_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "MI_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current (with 2018 option)",
          "additions": [
            "IRA/401k contributions (if not taxed federally due to option)",
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Social Security (not taxed):contentReference[oaicite:291]{index=291}",
            "Pension income exclusion (tiers by age)"
          ],
          "standardDeduction": 0,
          "personalExemption": 5400
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "iraContributionAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual",
        "solo401kEmployeeAnnual",
        "solo401kEmployerAnnual"
      ]
    },
    "MN": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2022-12-15"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "MN_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal bonus depreciation/QBI deduction add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal bonus depreciation/QBI deduction add-back"
            }
          },
          {
            "id": "MN_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State tax deducted federally (SALT add-back if any)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State tax deducted federally (SALT add-back if any)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "MN_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (mostly exempt by 2026)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (mostly exempt by 2026):contentReference[oaicite:292]{index=292}"
            }
          },
          {
            "id": "MN_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "State defined dependent exemption ($4k each)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State defined dependent exemption ($4k each):contentReference[oaicite:293]{index=293}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 13850
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "MN_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "MN_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "MN_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "MN_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2022-12-15",
          "additions": [
            "Federal bonus depreciation/QBI deduction add-back",
            "State tax deducted federally (SALT add-back if any)"
          ],
          "subtractions": [
            "Social Security (mostly exempt by 2026):contentReference[oaicite:292]{index=292}",
            "State defined dependent exemption ($4k each):contentReference[oaicite:293]{index=293}"
          ],
          "standardDeduction": 13850,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "MS": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "MS_ADD_RETIREMENT_DEDUCTION_DISALLOWED",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "401k/IRA deductions (not allowed in MS)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "iraContributionAnnual",
              "solo401kEmployeeAnnual",
              "solo401kEmployerAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "401k/IRA deductions (not allowed in MS)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "MS_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "MS_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed in MS)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed in MS):contentReference[oaicite:294]{index=294}"
            }
          },
          {
            "id": "MS_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Retirement income (pensions, IRA distributions exempt)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Retirement income (pensions, IRA distributions exempt)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 2300
        },
        "personalExemption": {
          "default": 6000
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "MS_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "MS_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "MS_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "MS_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_federal_starting_point",
          "ircConformity": null,
          "additions": [
            "401k/IRA deductions (not allowed in MS)",
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Social Security (not taxed in MS):contentReference[oaicite:294]{index=294}",
            "Retirement income (pensions, IRA distributions exempt)"
          ],
          "standardDeduction": 2300,
          "personalExemption": 6000
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "iraContributionAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual",
        "solo401kEmployeeAnnual",
        "solo401kEmployerAnnual"
      ]
    },
    "MO": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "MO_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income taxes deducted federally (add back SALT)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income taxes deducted federally (add back SALT)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "MO_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "MO_SUBTRACTIONS_001",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Federal income tax paid (up to $5k single)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal income tax paid (up to $5k single):contentReference[oaicite:295]{index=295}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "MO_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt for most; income-based)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt for most; income-based):contentReference[oaicite:296]{index=296}"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 13850
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "MO_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "MO_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "MO_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "MO_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "State income taxes deducted federally (add back SALT)",
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Federal income tax paid (up to $5k single):contentReference[oaicite:295]{index=295}",
            "Social Security (exempt for most; income-based):contentReference[oaicite:296]{index=296}"
          ],
          "standardDeduction": 13850,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "MT": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "MT_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State tax refund (if in AGI, Montana makes non-taxable)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State tax refund (if in AGI, Montana makes non-taxable):contentReference[oaicite:297]{index=297}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "MT_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "MT_SUB_FEDERAL_INCOME_TAX_DEDUCTION",
            "kind": "subtraction",
            "affects": "taxableIncome",
            "description": "Federal income taxes paid (deductible up to $5k)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "federalIncomeTaxPaidAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal income taxes paid (deductible up to $5k):contentReference[oaicite:298]{index=298}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "MT_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt below ~$80k AGI)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt below ~$80k AGI):contentReference[oaicite:299]{index=299}"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 15000
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "MT_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "MT_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "MT_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "MT_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "State tax refund (if in AGI, Montana makes non-taxable):contentReference[oaicite:297]{index=297}",
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Federal income taxes paid (deductible up to $5k):contentReference[oaicite:298]{index=298}",
            "Social Security (exempt below ~$80k AGI):contentReference[oaicite:299]{index=299}"
          ],
          "standardDeduction": 15000,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "federalIncomeTaxPaidAnnual",
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "NE": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "NE_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "NE_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (fully exempt by 2025)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (fully exempt by 2025):contentReference[oaicite:300]{index=300}"
            }
          },
          {
            "id": "NE_SUB_MILITARY_RETIREMENT_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Military retirement pay (exempt)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "militaryRetirementPayAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Military retirement pay (exempt)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 13850
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "NE_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "NE_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "NE_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "NE_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Social Security (fully exempt by 2025):contentReference[oaicite:300]{index=300}",
            "Military retirement pay (exempt)"
          ],
          "standardDeduction": 13850,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "militaryRetirementPayAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "NV": {
      "meta": {
        "hasIncomeTax": false
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "NV_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "NV_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "NV_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "NV_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_state_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    },
    "NH": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "NH_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "NH_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "NH_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "NH_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_wage_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    },
    "NJ": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "NJ_ADD_RETIREMENT_DEDUCTION_DISALLOWED",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "401k/IRA contributions (taxed by NJ)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "iraContributionAnnual",
              "solo401kEmployeeAnnual",
              "solo401kEmployerAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "401k/IRA contributions (taxed by NJ):contentReference[oaicite:301]{index=301}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "NJ_ADD_HSA",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "HSA contributions (taxable in NJ)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "hsaContributionAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "hsaContributionAnnual"
            },
            "requires": [
              "hsaContributionAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "HSA contributions (taxable in NJ):contentReference[oaicite:302]{index=302}"
            }
          }
        ],
        "subtractions": [
          {
            "id": "NJ_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed in NJ)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed in NJ):contentReference[oaicite:303]{index=303}"
            }
          },
          {
            "id": "NJ_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Retirement income exclusion (up to $75k if AGI < $150k)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Retirement income exclusion (up to $75k if AGI < $150k)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 1000
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "NJ_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "NJ_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "NJ_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "NJ_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_federal_starting_point",
          "ircConformity": null,
          "additions": [
            "401k/IRA contributions (taxed by NJ):contentReference[oaicite:301]{index=301}",
            "HSA contributions (taxable in NJ):contentReference[oaicite:302]{index=302}"
          ],
          "subtractions": [
            "Social Security (not taxed in NJ):contentReference[oaicite:303]{index=303}",
            "Retirement income exclusion (up to $75k if AGI < $150k)"
          ],
          "standardDeduction": 0,
          "personalExemption": 1000
        }
      },
      "requiredInputs": [
        "hsaContributionAnnual",
        "iraContributionAnnual",
        "socialSecurityBenefitsAnnual",
        "solo401kEmployeeAnnual",
        "solo401kEmployerAnnual"
      ]
    },
    "NM": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "NM_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "None (follows fed AGI closely)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "None (follows fed AGI closely)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "NM_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (mostly exempt by 2026)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (mostly exempt by 2026):contentReference[oaicite:304]{index=304}"
            }
          },
          {
            "id": "NM_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "State personal deduction $4,000 per exemption",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State personal deduction $4,000 per exemption:contentReference[oaicite:305]{index=305}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 13850
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "NM_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "NM_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "NM_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "NM_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "None (follows fed AGI closely)"
          ],
          "subtractions": [
            "Social Security (mostly exempt by 2026):contentReference[oaicite:304]{index=304}",
            "State personal deduction $4,000 per exemption:contentReference[oaicite:305]{index=305}"
          ],
          "standardDeduction": 13850,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "socialSecurityBenefitsAnnual"
      ]
    },
    "NY": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current (with decoupling)"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "NY_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          },
          {
            "id": "NY_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal bonus depreciation add-back (NY decoupled)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal bonus depreciation add-back (NY decoupled)"
            }
          }
        ],
        "subtractions": [
          {
            "id": "NY_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed by NY)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed by NY):contentReference[oaicite:306]{index=306}"
            }
          },
          {
            "id": "NY_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Pension exclusion (e.g. $20k for private pensions 59\u00bd+)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "pensionIncomeAnnual",
              "value": 0
            },
            "amount": {
              "op": "min",
              "a": {
                "op": "value",
                "path": "pensionIncomeAnnual"
              },
              "b": 20
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Pension exclusion (e.g. $20k for private pensions 59\u00bd+)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 8500
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "NY_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "NY_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "NY_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "NY_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current (with decoupling)",
          "additions": [
            "Out-of-state muni interest",
            "Federal bonus depreciation add-back (NY decoupled)"
          ],
          "subtractions": [
            "Social Security (not taxed by NY):contentReference[oaicite:306]{index=306}",
            "Pension exclusion (e.g. $20k for private pensions 59\u00bd+)"
          ],
          "standardDeduction": 8500,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "interestFromOutOfStateMunisAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "NC": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-04-01"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "NC_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income tax deduction (SALT add-back)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income tax deduction (SALT add-back)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "NC_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Bonus depreciation add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Bonus depreciation add-back"
            }
          }
        ],
        "subtractions": [
          {
            "id": "NC_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed):contentReference[oaicite:307]{index=307}"
            }
          },
          {
            "id": "NC_SUB_MILITARY_RETIREMENT_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Federal retirement/Military pension exclusion",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "militaryRetirementPayAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal retirement/Military pension exclusion",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 15000
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "NC_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "NC_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "NC_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "NC_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2021-04-01",
          "additions": [
            "State income tax deduction (SALT add-back)",
            "Bonus depreciation add-back"
          ],
          "subtractions": [
            "Social Security (not taxed):contentReference[oaicite:307]{index=307}",
            "Federal retirement/Military pension exclusion"
          ],
          "standardDeduction": 15000,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "militaryRetirementPayAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "ND": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalTaxableIncome",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "ND_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income tax deduction add-back (if any SALT deducted)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income tax deduction add-back (if any SALT deducted)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "ND_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (fully exempt starting 2021)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (fully exempt starting 2021):contentReference[oaicite:308]{index=308}"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": null
        },
        "personalExemption": {
          "default": null
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "ND_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "ND_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "ND_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "ND_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_taxable_income",
          "ircConformity": "current",
          "additions": [
            "State income tax deduction add-back (if any SALT deducted)"
          ],
          "subtractions": [
            "Social Security (fully exempt starting 2021):contentReference[oaicite:308]{index=308}"
          ],
          "standardDeduction": null,
          "personalExemption": null
        }
      },
      "requiredInputs": [
        "socialSecurityBenefitsAnnual"
      ]
    },
    "OH": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2018-03-27"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "OH_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "5/6 of bonus depreciation (add-back, will deduct over years)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "5/6 of bonus depreciation (add-back, will deduct over years)"
            }
          },
          {
            "id": "OH_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal income tax deduction (not allowed, but OH has no SALT in AGI anyway)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal income tax deduction (not allowed, but OH has no SALT in AGI anyway)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "OH_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed):contentReference[oaicite:309]{index=309}"
            }
          },
          {
            "id": "OH_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Business income deduction (up to $250k of passthrough income)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Business income deduction (up to $250k of passthrough income)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 2400
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "OH_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "OH_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "OH_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "OH_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2018-03-27",
          "additions": [
            "5/6 of bonus depreciation (add-back, will deduct over years)",
            "Federal income tax deduction (not allowed, but OH has no SALT in AGI anyway)"
          ],
          "subtractions": [
            "Social Security (not taxed):contentReference[oaicite:309]{index=309}",
            "Business income deduction (up to $250k of passthrough income)"
          ],
          "standardDeduction": 0,
          "personalExemption": 2400
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "OK": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "OK_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State/local taxes deducted federally (add-back SALT)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State/local taxes deducted federally (add-back SALT)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "OK_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "OK_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt via credit)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt via credit):contentReference[oaicite:310]{index=310}"
            }
          },
          {
            "id": "OK_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Retirement income exclusion ($10k per person)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Retirement income exclusion ($10k per person)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 13850
        },
        "personalExemption": {
          "default": 1000
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "OK_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "OK_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "OK_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "OK_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "State/local taxes deducted federally (add-back SALT)",
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Social Security (exempt via credit):contentReference[oaicite:310]{index=310}",
            "Retirement income exclusion ($10k per person)"
          ],
          "standardDeduction": 13850,
          "personalExemption": 1000
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "OR": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalTaxableIncome",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-12-31"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "OR_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income taxes deducted federally (add-back SALT)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income taxes deducted federally (add-back SALT):contentReference[oaicite:311]{index=311}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "OR_ADD_QBI_DEDUCTION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal QBI deduction (add-back)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "qbiDeductionAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "qbiDeductionAnnual"
            },
            "requires": [
              "qbiDeductionAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal QBI deduction (add-back)"
            }
          }
        ],
        "subtractions": [
          {
            "id": "OR_SUBTRACTIONS_001",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Federal tax liability deduction (up to ~$7,600)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal tax liability deduction (up to ~$7,600):contentReference[oaicite:312]{index=312}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "OR_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed in OR)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed in OR):contentReference[oaicite:313]{index=313}"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 2645
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "OR_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "OR_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "OR_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "OR_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_taxable_income",
          "ircConformity": "2021-12-31",
          "additions": [
            "State income taxes deducted federally (add-back SALT):contentReference[oaicite:311]{index=311}",
            "Federal QBI deduction (add-back)"
          ],
          "subtractions": [
            "Federal tax liability deduction (up to ~$7,600):contentReference[oaicite:312]{index=312}",
            "Social Security (not taxed in OR):contentReference[oaicite:313]{index=313}"
          ],
          "standardDeduction": 2645,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "qbiDeductionAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "PA": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "PA_ADD_RETIREMENT_DEDUCTION_DISALLOWED",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal adjustments not allowed (e.g. 401k/IRA contributions added back)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "iraContributionAnnual",
              "solo401kEmployeeAnnual",
              "solo401kEmployerAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal adjustments not allowed (e.g. 401k/IRA contributions added back)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "PA_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Capital losses (no $3k excess loss deduction \u2013 excess not deductible)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Capital losses (no $3k excess loss deduction \u2013 excess not deductible)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "PA_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxable in PA)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxable in PA):contentReference[oaicite:314]{index=314}"
            }
          },
          {
            "id": "PA_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Public and private pensions (exempt from PA tax)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Public and private pensions (exempt from PA tax)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "PA_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "PA_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "PA_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "PA_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_federal_starting_point",
          "ircConformity": null,
          "additions": [
            "Federal adjustments not allowed (e.g. 401k/IRA contributions added back)",
            "Capital losses (no $3k excess loss deduction \u2013 excess not deductible)"
          ],
          "subtractions": [
            "Social Security (not taxable in PA):contentReference[oaicite:314]{index=314}",
            "Public and private pensions (exempt from PA tax)"
          ],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "iraContributionAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual",
        "solo401kEmployeeAnnual",
        "solo401kEmployerAnnual"
      ]
    },
    "RI": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "RI_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income tax deduction add-back (SALT)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income tax deduction add-back (SALT):contentReference[oaicite:315]{index=315}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "RI_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt under ~$95k AGI)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt under ~$95k AGI):contentReference[oaicite:316]{index=316}"
            }
          },
          {
            "id": "RI_SUB_MILITARY_RETIREMENT_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Military pension exclusion",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [
              "militaryRetirementPayAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Military pension exclusion",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 9300
        },
        "personalExemption": {
          "default": 1000
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "RI_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "RI_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "RI_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "RI_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "State income tax deduction add-back (SALT):contentReference[oaicite:315]{index=315}"
          ],
          "subtractions": [
            "Social Security (exempt under ~$95k AGI):contentReference[oaicite:316]{index=316}",
            "Military pension exclusion"
          ],
          "standardDeduction": 9300,
          "personalExemption": 1000
        }
      },
      "requiredInputs": [
        "militaryRetirementPayAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "SC": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalTaxableIncome",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-12-31"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "SC_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State income taxes deduction (add-back SALT)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State income taxes deduction (add-back SALT)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "SC_ADD_QBI_DEDUCTION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal QBI deduction add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "qbiDeductionAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "qbiDeductionAnnual"
            },
            "requires": [
              "qbiDeductionAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal QBI deduction add-back"
            }
          }
        ],
        "subtractions": [
          {
            "id": "SC_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed):contentReference[oaicite:317]{index=317}"
            }
          },
          {
            "id": "SC_SUB_LTCG_EXCLUSION_44PCT",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "44% of long-term capital gains (excluded by SC law)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "capitalGainsAnnual",
              "value": 0
            },
            "amount": {
              "op": "mul",
              "a": {
                "op": "value",
                "path": "capitalGainsAnnual"
              },
              "b": 0.44
            },
            "requires": [
              "capitalGainsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "44% of long-term capital gains (excluded by SC law)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": null
        },
        "personalExemption": {
          "default": null
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "SC_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "SC_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "SC_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "SC_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_taxable_income",
          "ircConformity": "2021-12-31",
          "additions": [
            "State income taxes deduction (add-back SALT)",
            "Federal QBI deduction add-back"
          ],
          "subtractions": [
            "Social Security (not taxed):contentReference[oaicite:317]{index=317}",
            "44% of long-term capital gains (excluded by SC law)"
          ],
          "standardDeduction": null,
          "personalExemption": null
        }
      },
      "requiredInputs": [
        "capitalGainsAnnual",
        "qbiDeductionAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "SD": {
      "meta": {
        "hasIncomeTax": false
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "SD_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "SD_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "SD_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "SD_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_state_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    },
    "TN": {
      "meta": {
        "hasIncomeTax": false
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "TN_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "TN_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "TN_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "TN_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_state_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    },
    "TX": {
      "meta": {
        "hasIncomeTax": false
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "TX_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "TX_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "TX_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "TX_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_state_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    },
    "UT": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "UT_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "None (Utah broadly conforms)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "None (Utah broadly conforms)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "UT_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (offset by credit, effectively exempt)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (offset by credit, effectively exempt):contentReference[oaicite:318]{index=318}"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "UT_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "UT_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "UT_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "UT_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "None (Utah broadly conforms)"
          ],
          "subtractions": [
            "Social Security (offset by credit, effectively exempt):contentReference[oaicite:318]{index=318}"
          ],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "socialSecurityBenefitsAnnual"
      ]
    },
    "VT": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-12-31"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "VT_ADD_QBI_DEDUCTION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal QBI deduction add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "qbiDeductionAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "qbiDeductionAnnual"
            },
            "requires": [
              "qbiDeductionAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal QBI deduction add-back"
            }
          },
          {
            "id": "VT_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "SALT deduction above $10k add-back",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "SALT deduction above $10k add-back",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "VT_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (exempt under ~$50k single)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (exempt under ~$50k single):contentReference[oaicite:319]{index=319}"
            }
          },
          {
            "id": "VT_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "U.S. bond interest",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "U.S. bond interest",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 7000
        },
        "personalExemption": {
          "default": 4500
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "VT_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "VT_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "VT_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "VT_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2021-12-31",
          "additions": [
            "Federal QBI deduction add-back",
            "SALT deduction above $10k add-back"
          ],
          "subtractions": [
            "Social Security (exempt under ~$50k single):contentReference[oaicite:319]{index=319}",
            "U.S. bond interest"
          ],
          "standardDeduction": 7000,
          "personalExemption": 4500
        }
      },
      "requiredInputs": [
        "qbiDeductionAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "VA": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "current"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "VA_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State and local taxes deducted (add-back SALT)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State and local taxes deducted (add-back SALT):contentReference[oaicite:320]{index=320}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "VA_ADD_BONUS_DEPRECIATION_ADD_BACK",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Bonus depreciation add-back",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "bonusDepreciationAddbackAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "bonusDepreciationAddbackAnnual"
            },
            "requires": [
              "bonusDepreciationAddbackAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Bonus depreciation add-back"
            }
          }
        ],
        "subtractions": [
          {
            "id": "VA_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed):contentReference[oaicite:321]{index=321}"
            }
          },
          {
            "id": "VA_SUBTRACTIONS_002",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Age 65+ deduction ($12k per elderly taxpayer)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Age 65+ deduction ($12k per elderly taxpayer)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 9000
        },
        "personalExemption": {
          "default": 930
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "VA_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "VA_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "VA_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "VA_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "current",
          "additions": [
            "State and local taxes deducted (add-back SALT):contentReference[oaicite:320]{index=320}",
            "Bonus depreciation add-back"
          ],
          "subtractions": [
            "Social Security (not taxed):contentReference[oaicite:321]{index=321}",
            "Age 65+ deduction ($12k per elderly taxpayer)"
          ],
          "standardDeduction": 9000,
          "personalExemption": 930
        }
      },
      "requiredInputs": [
        "bonusDepreciationAddbackAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "WA": {
      "meta": {
        "hasIncomeTax": false
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "WA_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "WA_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "WA_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "WA_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_state_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    },
    "WV": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2021-03-11"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "WV_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "State tax refund (if included in AGI, WV removes it)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "State tax refund (if included in AGI, WV removes it)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "WV_ADD_OUT_OF_STATE_MUNI_INTEREST",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Out-of-state muni interest",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "interestFromOutOfStateMunisAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "interestFromOutOfStateMunisAnnual"
            },
            "requires": [
              "interestFromOutOfStateMunisAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Out-of-state muni interest"
            }
          }
        ],
        "subtractions": [
          {
            "id": "WV_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (fully exempt by 2026)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (fully exempt by 2026):contentReference[oaicite:322]{index=322}"
            }
          },
          {
            "id": "WV_SUB_PENSION_EXCLUSION",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Federal pension exclusion ($8k per retiree)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "pensionIncomeAnnual",
              "value": 0
            },
            "amount": {
              "op": "min",
              "a": {
                "op": "value",
                "path": "pensionIncomeAnnual"
              },
              "b": 8
            },
            "requires": [
              "pensionIncomeAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal pension exclusion ($8k per retiree)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "WV_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "WV_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "WV_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "WV_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2021-03-11",
          "additions": [
            "State tax refund (if included in AGI, WV removes it)",
            "Out-of-state muni interest"
          ],
          "subtractions": [
            "Social Security (fully exempt by 2026):contentReference[oaicite:322]{index=322}",
            "Federal pension exclusion ($8k per retiree)"
          ],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "interestFromOutOfStateMunisAnnual",
        "pensionIncomeAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "WI": {
      "meta": {
        "hasIncomeTax": true
      },
      "startingPoint": {
        "type": "federalAGI",
        "ircConformity": {
          "mode": "fixed_date",
          "date": "2020-12-31"
        }
      },
      "adjustments": {
        "additions": [
          {
            "id": "WI_ADDITIONS_001",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal standard/itemized deduction (WI handles via credit)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal standard/itemized deduction (WI handles via credit):contentReference[oaicite:323]{index=323}",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          },
          {
            "id": "WI_ADDITIONS_002",
            "kind": "addition",
            "affects": "stateAGI",
            "description": "Federal SALT deduction (WI provides credit instead)",
            "status": "ok",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "requires": [],
            "reference": {
              "type": "state_rule_text",
              "raw": "Federal SALT deduction (WI provides credit instead)",
              "note": "Disabled until sourced; returns 0"
            },
            "enabled": false
          }
        ],
        "subtractions": [
          {
            "id": "WI_SUB_SOCIAL_SECURITY",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "Social Security (not taxed)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "socialSecurityBenefitsAnnual",
              "value": 0
            },
            "amount": {
              "op": "value",
              "path": "socialSecurityBenefitsAnnual"
            },
            "requires": [
              "socialSecurityBenefitsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "Social Security (not taxed):contentReference[oaicite:324]{index=324}"
            }
          },
          {
            "id": "WI_SUB_LTCG_EXCLUSION_30PCT",
            "kind": "subtraction",
            "affects": "stateAGI",
            "description": "30% of long-term capital gains (excluded in WI)",
            "status": "ok",
            "when": {
              "op": ">",
              "path": "capitalGainsAnnual",
              "value": 0
            },
            "amount": {
              "op": "mul",
              "a": {
                "op": "value",
                "path": "capitalGainsAnnual"
              },
              "b": 0.3
            },
            "requires": [
              "capitalGainsAnnual"
            ],
            "reference": {
              "type": "state_rule_text",
              "raw": "30% of long-term capital gains (excluded in WI)"
            }
          }
        ]
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "WI_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "WI_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "WI_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "WI_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "federal_AGI",
          "ircConformity": "2020-12-31",
          "additions": [
            "Federal standard/itemized deduction (WI handles via credit):contentReference[oaicite:323]{index=323}",
            "Federal SALT deduction (WI provides credit instead)"
          ],
          "subtractions": [
            "Social Security (not taxed):contentReference[oaicite:324]{index=324}",
            "30% of long-term capital gains (excluded in WI)"
          ],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": [
        "capitalGainsAnnual",
        "socialSecurityBenefitsAnnual"
      ]
    },
    "WY": {
      "meta": {
        "hasIncomeTax": false
      },
      "startingPoint": {
        "type": "stateDefined",
        "ircConformity": {
          "mode": "unknown"
        }
      },
      "adjustments": {
        "additions": [],
        "subtractions": []
      },
      "deductions": {
        "standardDeduction": {
          "default": 0
        },
        "personalExemption": {
          "default": 0
        }
      },
      "tax": {
        "rateType": "unknown",
        "brackets": {}
      },
      "credits": {
        "refundable": [
          {
            "id": "WY_CREDIT_EITC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State EITC (placeholder). If state has EITC, set enabled=true and configure percent/eligibility.",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "federalEITC"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Not populated with state-specific % yet"
            }
          },
          {
            "id": "WY_CREDIT_CTC",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State Child Tax Credit (placeholder with income-band case).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "case",
              "cases": [],
              "default": {
                "op": "constant",
                "value": 0
              }
            },
            "refundable": true,
            "requires": [
              "numQualifyingChildren",
              "stateAGI"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Income-band thresholds/amounts not populated yet"
            }
          },
          {
            "id": "WY_CREDIT_CHILDCARE",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State childcare credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": true,
            "requires": [
              "childcareExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ],
        "nonRefundable": [
          {
            "id": "WY_CREDIT_EDUCATION",
            "kind": "credit",
            "affects": "totalTax",
            "enabled": false,
            "description": "State education credit (placeholder).",
            "when": {
              "op": "constant",
              "value": false
            },
            "amount": {
              "op": "constant",
              "value": 0
            },
            "refundable": false,
            "requires": [
              "educationExpensesAnnual"
            ],
            "reference": {
              "type": "placeholder",
              "note": "Rules not populated yet"
            }
          }
        ]
      },
      "notes": {
        "raw": {
          "startingPoint": "no_state_income_tax",
          "ircConformity": null,
          "additions": [],
          "subtractions": [],
          "standardDeduction": 0,
          "personalExemption": 0
        }
      },
      "requiredInputs": []
    }
  },
  "globalRequiredInputs": [
    "bonusDepreciationAddbackAnnual",
    "capitalGainsAnnual",
    "childcareExpensesAnnual",
    "educationExpensesAnnual",
    "federalEITC",
    "federalIncomeTaxPaidAnnual",
    "hsaContributionAnnual",
    "interestFromOutOfStateMunisAnnual",
    "iraContributionAnnual",
    "militaryRetirementPayAnnual",
    "numQualifyingChildren",
    "pensionIncomeAnnual",
    "qbiDeductionAnnual",
    "socialSecurityBenefitsAnnual",
    "solo401kEmployeeAnnual",
    "solo401kEmployerAnnual",
    "stateAGI",
    "usTreasuryInterestAnnual"
  ],
  "stats": {
    "rules_ok": 98,
    "rules_needs_detail": 62,
    "total_rules": 160
  },
  "notes": [
    "All rules previously marked needs_detail were disabled (enabled=false) and set to return 0 until sourced.",
    "Credits were added as placeholders per state if none existed; they are disabled by default and return 0."
  ]
}